(function(){"use strict";var e={7856:function(e,t,n){var l=n(5130),o=n(6768),a=n(144),s=n(1387),u={__name:"App",setup(e){return(e,t)=>((0,o.uX)(),(0,o.Wv)((0,a.R1)(s.Tp)))}};const i=u;var r=i,c=(n(4114),n(4232)),d=n(8353);const f={class:"wrapper"},p={ref:"question",class:"question side"},v=["innerHTML"],k={key:0,class:"clickTip"},h={ref:"answer",class:"answer side"},m=["innerHTML"];var b={__name:"CardContainer",props:["card","index"],setup(e){const t=(0,a.KR)(!1),n=(0,a.KR)(1),l=(0,a.KR)(1);function s(e){let t=d["default"].sanitize(e,{ALLOWED_TAGS:["b","i","u","strong","em","p","br","ul","ol","li","a","h1","h2","h3","h4","h5","h6","div","span","img","sup","sub"],ALLOWED_ATTR:["href","title"]});return t.replaceAll("\n","<br>")}return(a,u)=>((0,o.uX)(),(0,o.CE)("div",f,[(0,o.Lk)("div",{id:"cont",class:(0,c.C4)(["cont cardCont",t.value?"flipped":"notflipped"]),onClick:u[0]||(u[0]=e=>t.value=!t.value),ref:"cont"},[(0,o.Lk)("div",p,[(0,o.Lk)("div",{class:"center",innerHTML:`Q: ${s(e.card.question)}`,style:(0,c.Tr)({transform:`scale(${n.value})`})},null,12,v),0==e.index?((0,o.uX)(),(0,o.CE)("div",k," Click the card to flip to answer. ")):(0,o.Q3)("",!0)],512),(0,o.Lk)("div",h,[(0,o.Lk)("div",{class:"center",innerHTML:`A: ${s(e.card.answer)}`,style:(0,c.Tr)({transform:`scale(${l.value})`})},null,12,m)],512)],2)]))}};const g=b;var y=g;const L={class:"wrapper"},C={ref:"pane",id:"cardScroll",class:"scrollX"},_={id:"centerButtons"},w={key:1,class:"iconButton",style:{opacity:"0.5"}},E={key:3,class:"iconButton",style:{opacity:"0.5"}};var S={__name:"CardView",props:["cardSet"],emits:["shuffle"],setup(e,{emit:t}){const n=t,l=(0,a.KR)(!1),s=(0,a.KR)(0),u=(0,a.KR)(0);(0,o.sV)((()=>{l.value=!0;const e=document.getElementById("cardScroll");e&&(e.addEventListener("scroll",r),r(),l.value=!0)}));const i=(0,o.EW)((()=>l.value?Math.round(s.value/u.value):0)),r=()=>{const e=document.getElementById("cardScroll");e&&(s.value=e.scrollLeft,u.value=e.offsetWidth)};function c(e){const t=document.getElementById("cardScroll"),n=t.offsetWidth;t.scrollBy({left:n*e,behavior:"smooth"})}function d(){n("shuffle")}return(t,n)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",L,[(0,o.Lk)("div",C,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.cardSet,((e,t)=>((0,o.uX)(),(0,o.Wv)(y,{key:t,card:e,index:t},null,8,["card","index"])))),128))],512)]),(0,o.Lk)("div",_,[i.value>0?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"iconButton",onClick:n[0]||(n[0]=e=>c(-1))},n[2]||(n[2]=[(0,o.Lk)("i",{class:"fa-solid fa-chevron-left"},null,-1),(0,o.Lk)("div",{class:"tooltip left"},"Move to the previous card.",-1)]))):((0,o.uX)(),(0,o.CE)("button",w,n[3]||(n[3]=[(0,o.Lk)("i",{class:"fa-solid fa-chevron-left"},null,-1)]))),(0,o.Lk)("button",{class:"iconButton",onClick:d},n[4]||(n[4]=[(0,o.Lk)("i",{class:"fa-solid fa-shuffle"},null,-1),(0,o.Lk)("div",{class:"tooltip right"}," Shuffle the cards. Warning, this action is irriversible. Save the set in JSON before doing this. See the download button in the right sidebar. ",-1)])),i.value<e.cardSet.length-1?((0,o.uX)(),(0,o.CE)("button",{key:2,class:"iconButton",onClick:n[1]||(n[1]=e=>c(1))},n[5]||(n[5]=[(0,o.Lk)("i",{class:"fa-solid fa-chevron-right"},null,-1),(0,o.Lk)("div",{class:"tooltip right"},"Move to the next card.",-1)]))):((0,o.uX)(),(0,o.CE)("button",E,n[6]||(n[6]=[(0,o.Lk)("i",{class:"fa-solid fa-chevron-right"},null,-1)])))])],64))}},I=n(1241);const F=(0,I.A)(S,[["__scopeId","data-v-6dffd1b6"]]);var X=F;const R={class:"content"},K=["onUpdate:modelValue"],O=["id","onUpdate:modelValue"],B=["onClick"];var x={__name:"ImageBay",emits:["fileOpener","downloader"],setup(e,{emit:t}){const n=t,s=(0,a.KR)(!1);let u=1;const i=(0,a.KR)([{code:0,description:"",url:""}]),r=()=>{console.log("emit"),n("fileOpener","yoyo")},d=()=>{n("downloader","yoyo")};function f(e){let t,n=!1;for(let l=0;l<i.value.length;l++)if(i.value[l].code==e){n=!0,t=l;break}n&&(console.log("found"),i.value.splice(t,1))}function p(){i.value.push({code:u++,description:"",url:""})}return(e,t)=>((0,o.uX)(),(0,o.CE)("div",{id:"bay",class:(0,c.C4)(s.value?"bayopen":"bayclosed")},[(0,o.Lk)("div",{id:"icons"},[(0,o.Lk)("button",{onClick:r,class:"iconButton"},t[0]||(t[0]=[(0,o.Lk)("i",{class:"fa-solid fa-arrow-up-from-bracket"},null,-1),(0,o.Lk)("div",{class:"tooltip left"},"Upload file from hard drive",-1)])),(0,o.Lk)("button",{onClick:d,class:"iconButton"},t[1]||(t[1]=[(0,o.Lk)("i",{class:"fa-solid fa-download"},null,-1),(0,o.Lk)("div",{class:"tooltip left"},"Download cards as JSON or pdf.",-1)]))]),(0,o.Lk)("div",R,[t[4]||(t[4]=(0,o.eW)(' Image bay not yet implemented. To get images in your cards, you can use the html tag <img src="url of image" width="300px" height="auto"> ')),(0,o.Lk)("table",null,[t[3]||(t[3]=(0,o.Lk)("tr",null,[(0,o.Lk)("td",null,"Code"),(0,o.Lk)("td",null,"Description"),(0,o.Lk)("td",null,"URL")],-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.value,((e,n)=>((0,o.uX)(),(0,o.CE)("tr",{key:n},[(0,o.Lk)("td",null,"i"+(0,c.v_)(e.code),1),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.description=t},null,8,K),[[l.Jo,e.description]])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{id:`url${e.code}`,type:"text","onUpdate:modelValue":t=>e.url=t},null,8,O),[[l.Jo,e.url]])]),(0,o.Lk)("td",null,[(0,o.Lk)("button",{class:"iconButton",onClick:t=>f(e.code)},t[2]||(t[2]=[(0,o.Lk)("i",{class:"fa-solid fa-trash"},null,-1)]),8,B)])])))),128))]),(0,o.Lk)("button",{onClick:p},"Add image")])],2))}};const A=(0,I.A)(x,[["__scopeId","data-v-10b6ce34"]]);var U=A,W={__name:"DownloaderPopup",props:["open"],emits:["close","downloadJSON","downloadPDF"],setup(e,{emit:t}){const n=t;function l(){n("downloadJSON")}function a(){n("downloadPDF")}function s(){n("close")}return(t,n)=>((0,o.uX)(),(0,o.CE)("div",{class:(0,c.C4)(t.isOpen||e.open?"popupCont open":"popupCont closed")},[(0,o.Lk)("div",{id:"downloader",class:"popup"},[(0,o.Lk)("button",{class:"iconButton",onClick:s},n[0]||(n[0]=[(0,o.Lk)("i",{class:"fa-solid fa-xmark"},null,-1)])),(0,o.Lk)("div",{id:"buttons"},[(0,o.Lk)("button",{id:"json",class:"bubbleButton",onClick:l},n[1]||(n[1]=[(0,o.eW)(" Download JSON "),(0,o.Lk)("div",{class:"tooltip"},"Download your cards in JSON format, so that you can reopen them and continue editing them. Or edit in your chosen code editor.",-1)])),(0,o.Lk)("button",{id:"pdf",class:"bubbleButton",onClick:a},n[2]||(n[2]=[(0,o.eW)(" Download PDF "),(0,o.Lk)("div",{class:"tooltip"},"Download your cards as a pdf, so that you can view them when offline.",-1)]))])])],2))}};const D=(0,I.A)(W,[["__scopeId","data-v-8c8a8b4e"]]);var M=D;const J={class:"popup"};var T={__name:"FileOpener",props:["open"],emits:["close","openFile"],setup(e,{emit:t}){const n=t;function l(){n("close")}const s=(0,a.KR)();function u(){console.log("load file");const e=s.value.files[0],t=new FileReader;t.onload=function(e){console.log("return"),n("openFile",JSON.parse(e.target.result).cards)},t.onerror=function(e){return console.log("An error occured",e),"ERROR"},t.readAsText(e),l()}return(t,n)=>((0,o.uX)(),(0,o.CE)("div",{class:(0,c.C4)(t.isOpen||e.open?"popupCont open":"popupCont closed")},[(0,o.Lk)("div",J,[(0,o.Lk)("button",{class:"iconButton",onClick:l},n[0]||(n[0]=[(0,o.Lk)("i",{class:"fa-solid fa-xmark"},null,-1)])),(0,o.Lk)("input",{type:"file",ref_key:"fileInput",ref:s,id:"fileInput",accept:".flsh"},null,512),(0,o.Lk)("button",{class:"bubbleButton fullWidth fileButton",onClick:u},"Load File")])],2))}};const P=(0,I.A)(T,[["__scopeId","data-v-157902e2"]]);var Q=P,V=n(187);const N="https://xbghewktvwmxiyndbqps.supabase.co",j="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhiZ2hld2t0dndteGl5bmRicXBzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE2NjMxMDIsImV4cCI6MjA2NzIzOTEwMn0.VABenPzSEUc0_YrlDuK4vAhi9OrJDSJ-EpEf837MefQ";console.log("URL: ",N),console.log("KEY: ",j);const q=(0,V.UU)(N,j),Y={class:"panel"},$={class:"margins"},z={key:0,class:"savedText"},H={key:1,class:"savedText"};var G={__name:"SavePanel",props:["cards","title"],setup(e){const t=(0,s.lq)(),n=(0,a.KR)(""),u=(0,a.KR)(null),i=(0,a.KR)(null|t.query.setId),r=(0,o.EW)((()=>{const e=n.value;if(""==e)return"";const t=new Date,l=t.getDate(),o=t.getMonth(),a=t.getFullYear(),s=e.getDate(),u=e.getMonth(),i=e.getFullYear(),r=e.getHours(),c=e.getMinutes();return i!=a||u!=o||s!=l?`${s} ${u} ${i}`:`today ${r}:${c}`})),d=e,f=(0,a.KR)(d.title);async function p(){const e=await q.auth.getUser();u.value=e,console.log(u.value)}async function v(){try{let e,t;await p(),u.value||alert("You are not signed in"),console.log(i.value),i.value?(console.log("update"),({data:e,error:t}=await q.from("sets").update({set_data:{cards:d.cards},title:f.value,updated_at:(new Date).toISOString()}).eq("id",i.value).select())):(({data:e,error:t}=await q.from("sets").insert([{creator_id:u.value.data.user.id,set_data:`{"cards":${JSON.stringify(d.cards)}}`,title:f.value}]).select()),console.log(e),i.value=e[0].id),t&&alert("Failed to save"),console.log(e),n.value=new Date}catch(e){alert(e)}}return console.log("title",d.title),(0,o.sV)(p),(e,t)=>((0,o.uX)(),(0,o.CE)("div",Y,[(0,o.Lk)("div",$,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>f.value=e)},null,512),[[l.Jo,f.value]]),(0,o.Lk)("button",{onClick:v,class:"iconButton"},t[1]||(t[1]=[(0,o.Lk)("i",{class:"fa-solid fa-floppy-disk"},null,-1)])),""!=n.value?((0,o.uX)(),(0,o.CE)("div",z,"Last saved "+(0,c.v_)(r.value),1)):((0,o.uX)(),(0,o.CE)("div",H,"Changes not saved"))])]))}};const Z=(0,I.A)(G,[["__scopeId","data-v-7abcce6a"]]);var ee=Z;const te={class:"loading"};function ne(e,t){return(0,o.uX)(),(0,o.CE)("div",te,t[0]||(t[0]=[(0,o.Lk)("i",{class:"fa-solid fa-spinner"},null,-1)]))}const le={},oe=(0,I.A)(le,[["render",ne],["__scopeId","data-v-47972f35"]]);var ae=oe;function se(e,t){return(0,o.uX)(),(0,o.CE)(o.FK,null,[t[0]||(t[0]=(0,o.Lk)("b",null,"Flash",-1)),t[1]||(t[1]=(0,o.Lk)("em",null,"Flip",-1))],64)}const ue={},ie=(0,I.A)(ue,[["render",se],["__scopeId","data-v-617096fa"]]);var re=ie;const ce={class:"bar"},de={class:"margins"},fe={class:"fl"},pe={class:"homeLink"},ve={key:0,class:"fl"},ke={key:1,class:"fl"},he={class:"fr first"},me={key:0},be={class:"fr"};var ge={__name:"AccountBar",emits:["signedIn"],setup(e,{emit:t}){const n=(0,s.rd)(),l=t,u=(0,a.KR)(null),i=(0,a.KR)(!0);async function r(){const e=await q.auth.getUser();if(e.error||!e.data)return void(i.value=!1);const t=e.data.user.user_metadata.display_name;u.value=t,i.value=!1,l("signedIn")}async function d(){await q.auth.signOut(),n.push({name:"Sign In"})}return r(),(e,t)=>{const n=(0,o.g2)("RouterLink");return(0,o.uX)(),(0,o.CE)(o.FK,null,[i.value?((0,o.uX)(),(0,o.Wv)(ae,{key:0})):(0,o.Q3)("",!0),(0,o.Lk)("div",ce,[(0,o.Lk)("ul",de,[(0,o.Lk)("li",fe,[(0,o.bF)(n,{to:"/"},{default:(0,o.k6)((()=>[(0,o.Lk)("p",pe,[(0,o.bF)(re)])])),_:1})]),u.value?((0,o.uX)(),(0,o.CE)("li",ve,[(0,o.bF)(n,{to:"/library"},{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.Lk)("p",null,"Library",-1)]))),_:1})])):(0,o.Q3)("",!0),u.value?((0,o.uX)(),(0,o.CE)("li",ke,[(0,o.bF)(n,{to:"/edit/null"},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.Lk)("p",null,"New Set",-1)]))),_:1})])):(0,o.Q3)("",!0),(0,o.Lk)("li",he,[u.value?((0,o.uX)(),(0,o.CE)("p",me,"Signed in as "+(0,c.v_)(u.value),1)):(0,o.Q3)("",!0),u.value?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(n,{key:1,to:"/signin",class:"bubbleButton"},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.eW)("Sign In")]))),_:1}))]),(0,o.Lk)("li",be,[u.value?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:d,class:"bubbleButton"},"Sign Out")):(0,o.Q3)("",!0),u.value?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(n,{key:1,to:"/signup",class:"bubbleButton"},{default:(0,o.k6)((()=>t[3]||(t[3]=[(0,o.eW)("Sign Up")]))),_:1}))])])])],64)}}};const ye=(0,I.A)(ge,[["__scopeId","data-v-fbb2d3d8"]]);var Le=ye,Ce=n(1749),_e=n(2125),we=n.n(_e);const Ee={class:"margins"},Se={key:0,id:"cardEditCont"},Ie={class:"label"},Fe={class:"tableContent"},Xe=["onKeyup","onUpdate:modelValue"],Re={class:"tableContent"},Ke=["onUpdate:modelValue"],Oe={class:"tableContent"},Be=["onClick"],xe={class:"tableContent"},Ae={class:"iconButton updown"},Ue=["onClick"],We=["onClick"];var De={__name:"EditView",props:["set_id"],setup(e){const t=e;(0,o.sV)((async()=>{if(window.onbeforeunload=()=>"Make sure you have saved your changes",console.log("set_id: ",t.set_id),"null"==t.set_id)return r.value="Untitled Set",void(f.value=!1);const{data:e,error:n}=await q.from("sets").select().eq("id",t.set_id);console.log("data: ",e),console.log("error: ",n),n?f.value=!1:e?(d.value=JSON.parse(e[0].set_data).cards,r.value=e[0].title,f.value=!1):f.value=!1}));const n=(0,a.KR)(!0),s={question:"",answer:""},u=(0,a.KR)(!1),i=(0,a.KR)(!1),r=(0,a.KR)(null),d=(0,a.KR)([{...s}]),f=(0,a.KR)(!0);function p(){d.value.push({...s})}function v(e,t){if(e>d.value.length-1||e<0)return;const n=e+t;if(n>=d.value.length||n<0)return;const l=d.value[e];d.value.splice(e,1),d.value.splice(n,0,l)}function k(){const e=JSON.stringify({cards:d.value});m(e,"set.flsh")}const h=async e=>{console.log(e),d.value=e,await(0,o.dY)(),E()};function m(e,t){const n=new Blob([e],{type:"text/plain"}),l=window.URL.createObjectURL(n),o=document.createElement("a");o.href=l,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(l)}async function b(){const e=new Ce.Ay("l","mm","a4"),t=e.internal.pageSize.getWidth(),n=e.internal.pageSize.getHeight(),l={scale:2,dpi:300,logging:!1,useCORS:!0,allowTaint:!1,backgroundColor:"#FFFFFF",scrollX:0,scrollY:0,ignoreElements:e=>"SCRIPT"===e.tagName},o=document.getElementsByClassName("side");for(let a=0;a<o.length;a++){const s=o[a],u=s.style.transform;s.style.transform="none";const i=await we()(s,l);s.style.transform=u;const r=i.toDataURL("image/png");e.addImage(r,"PNG",0,0,t,n),a!=o.length-1&&e.addPage()}e.save("cards.pdf")}function g(){d.value=y([...d.value])}function y(e){let t=[];while(e.length>0){const n=Math.floor(Math.random()*e.length);t.push(e[n]),e.splice(n,1)}return t}function L(e){0==e&&1==d.value.length||d.value.splice(e,1)}function C(e){let t=d.value[e].question;t.endsWith("\n\n")&&(d.value[e].question=t.substring(0,t.length-2),document.getElementsByClassName("answerInput")[e].focus())}async function _(){const e=d.value.length-1;let t=d.value[e].answer;t.endsWith("\n\n")&&(d.value[e].answer=t.substring(0,t.length-2),p(),await(0,o.dY)(),document.getElementsByClassName("questionInput")[d.value.length-1].focus())}function w(e){e.style.height="auto",e.style.height=e.scrollHeight+"px"}function E(){const e=document.getElementsByTagName("textarea");for(let t=0;t<e.length;t++)w(e[t])}return(e,t)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(Le),(0,o.bF)(U,{onFileOpener:t[0]||(t[0]=e=>u.value=!0),onDownloader:t[1]||(t[1]=e=>i.value=!0)}),r.value?((0,o.uX)(),(0,o.Wv)(ee,{key:0,cards:d.value,title:r.value},null,8,["cards","title"])):(0,o.Q3)("",!0),f.value?((0,o.uX)(),(0,o.Wv)(ae,{key:1})):(0,o.Q3)("",!0),(0,o.Lk)("div",Ee,[(0,o.bF)(Q,{open:u.value,onClose:t[2]||(t[2]=e=>u.value=!1),onOpenFile:h},null,8,["open"]),(0,o.bF)(M,{open:i.value,onClose:t[3]||(t[3]=e=>i.value=!1),onDownloadJSON:k,onDownloadPDF:b},null,8,["open"]),n.value?((0,o.uX)(),(0,o.CE)("table",Se,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(d.value,((e,n)=>((0,o.uX)(),(0,o.CE)("tr",{class:"cardedit",key:n},[(0,o.Lk)("td",Ie,(0,c.v_)(n+1)+".",1),(0,o.Lk)("td",Fe,[(0,o.bo)((0,o.Lk)("textarea",{onKeyup:(0,l.jR)((e=>C(n)),["enter"]),class:"questionInput",type:"text","onUpdate:modelValue":t=>e.question=t,placeholder:"question",onInput:t[4]||(t[4]=e=>w(e.target))},null,40,Xe),[[l.Jo,e.question]])]),(0,o.Lk)("td",Re,[(0,o.bo)((0,o.Lk)("textarea",{onKeyup:(0,l.jR)(_,["enter"]),type:"text",class:"answerInput","onUpdate:modelValue":t=>e.answer=t,placeholder:"answer",onInput:t[5]||(t[5]=e=>w(e.target))},null,40,Ke),[[l.Jo,e.answer]])]),(0,o.Lk)("td",Oe,[0!=n||d.value.length>1?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"iconButton",onClick:e=>L(n)},t[8]||(t[8]=[(0,o.Lk)("i",{class:"fa-solid fa-trash"},null,-1),(0,o.Lk)("div",{class:"tooltip left"},"Remove the card.",-1)]),8,Be)):(0,o.Q3)("",!0)]),(0,o.Lk)("td",xe,[(0,o.Lk)("div",Ae,[d.value.length>1&&0!=n?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"iconButton",onClick:e=>v(n,-1)},t[9]||(t[9]=[(0,o.Lk)("i",{class:"fa-solid fa-chevron-up"},null,-1),(0,o.Lk)("div",{class:"tooltip left"},"Shift this card up one position.",-1)]),8,Ue)):(0,o.Q3)("",!0),(0!=n||d.value.length>1)&&n!=d.value.length-1?((0,o.uX)(),(0,o.CE)("button",{key:1,class:"iconButton",onClick:e=>v(n,1)},t[10]||(t[10]=[(0,o.Lk)("i",{class:"fa-solid fa-chevron-down"},null,-1),(0,o.Lk)("div",{class:"tooltip left"},"Shift this card down one position.",-1)]),8,We)):(0,o.Q3)("",!0)])])])))),128)),(0,o.Lk)("button",{class:"iconButton",onClick:t[6]||(t[6]=e=>n.value=!n.value)},[(0,o.Lk)("i",{class:(0,c.C4)(n.value?"fa-solid fa-eye":"fa-solid fa-eye-slash")},null,2),t[11]||(t[11]=(0,o.Lk)("div",{class:"tooltip right"},"Show/hide the card edit boxes.",-1))])])):(0,o.Q3)("",!0),n.value?((0,o.uX)(),(0,o.CE)("button",{key:1,class:"bubbleButton fullWidth",onClick:p},t[12]||(t[12]=[(0,o.Lk)("i",{class:"fa-solid fa-plus"},null,-1),(0,o.eW)(" Add card ")]))):(0,o.Q3)("",!0),n.value?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("button",{key:2,class:"iconButton",onClick:t[7]||(t[7]=e=>n.value=!n.value)},[(0,o.Lk)("i",{class:(0,c.C4)(n.value?"fa-solid fa-eye":"fa-solid fa-eye-slash")},null,2)])),(0,o.bF)(X,{onShuffle:g,cardSet:d.value},null,8,["cardSet"])])],64))}};const Me=(0,I.A)(De,[["__scopeId","data-v-2652b5b2"]]);var Je=Me;const Te={class:"card"};var Pe={__name:"FeatureCard",props:["icon","title","description"],setup(e){return(t,n)=>((0,o.uX)(),(0,o.CE)("div",Te,[(0,o.Lk)("i",{class:(0,c.C4)(e.icon)},null,2),(0,o.Lk)("h3",null,(0,c.v_)(e.title),1),(0,o.Lk)("p",null,(0,c.v_)(e.description),1)]))}};const Qe=(0,I.A)(Pe,[["__scopeId","data-v-83858976"]]);var Ve=Qe;const Ne={class:"pageSpread"},je={class:"margins"},qe={class:"flex"};var Ye={__name:"LandingView",setup(e){const t=(0,a.KR)(!1);function n(){t.value=!0}return(e,l)=>{const a=(0,o.g2)("RouterLink");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(Le,{onSignedIn:n}),(0,o.Lk)("div",Ne,[(0,o.Lk)("h1",null,[l[0]||(l[0]=(0,o.eW)("Welcome to ")),(0,o.bF)(re)]),l[3]||(l[3]=(0,o.Lk)("h2",null,"A free, student-friendly flashcard app for smarter studying.",-1)),t.value?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(a,{key:0,to:"/login",class:"bubbleButton fr"},{default:(0,o.k6)((()=>l[1]||(l[1]=[(0,o.eW)("Sign In")]))),_:1})),t.value?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(a,{key:1,to:"/signup",class:"bubbleButton"},{default:(0,o.k6)((()=>l[2]||(l[2]=[(0,o.eW)("Sign Up")]))),_:1}))]),(0,o.Lk)("div",je,[l[4]||(l[4]=(0,o.Lk)("h1",null,"Features",-1)),(0,o.Lk)("div",qe,[(0,o.bF)(Ve,{icon:"fa-solid fa-cloud",title:"Cloud Storage",description:"Store your flashcards in the cloud for seamless access and backup across all your devices."}),(0,o.bF)(Ve,{icon:"fa-solid fa-file-pdf",title:"Download PDF",description:"Export your flashcards as PDFs for convenient offline study anytime, anywhere."}),(0,o.bF)(Ve,{icon:"fa-brands fa-html5",title:"HTML Formatting",description:"Enhance your flashcards with HTML formatting for bold, italics, colors, and more to create clear, standout study aids."})])])],64)}}};const $e=(0,I.A)(Ye,[["__scopeId","data-v-435d2e7a"]]);var ze=$e;const He={key:0,class:"bubbleError"};var Ge={__name:"ErrorBubble",props:["errorMsg"],setup(e){return(t,n)=>e.errorMsg?((0,o.uX)(),(0,o.CE)("div",He,[n[0]||(n[0]=(0,o.Lk)("i",{class:"fa-solid fa-circle-exclamation"},null,-1)),(0,o.Lk)("p",null,(0,c.v_)(e.errorMsg),1)])):(0,o.Q3)("",!0)}};const Ze=(0,I.A)(Ge,[["__scopeId","data-v-1fce4f9a"]]);var et=Ze;const tt={class:"margins"},nt=["disabled"];var lt={__name:"SignUpView",setup(e){const t=(0,s.rd)(),n=(0,a.KR)(""),u=(0,a.KR)(""),i=(0,a.KR)(""),r=(0,a.KR)(!1),c=(0,a.KR)("");async function d(){try{r.value=!0;const{error:e}=await q.auth.signUp({email:u.value,password:i.value,options:{data:{display_name:n.value}}});if(e)throw e;t.push({name:"Email Confirmation"})}catch(e){c.value=e.message}finally{r.value=!1}}return(e,t)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(Le),r.value?((0,o.uX)(),(0,o.Wv)(ae,{key:0})):(0,o.Q3)("",!0),(0,o.Lk)("div",tt,[t[3]||(t[3]=(0,o.Lk)("h2",null,"Sign Up",-1)),t[4]||(t[4]=(0,o.Lk)("h3",null,"Display name",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),type:"text",placeholder:"People will see this name if you make any public card sets."},null,512),[[l.Jo,n.value]]),t[5]||(t[5]=(0,o.Lk)("h3",null,"Email",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e),type:"email",placeholder:"Enter your email."},null,512),[[l.Jo,u.value]]),t[6]||(t[6]=(0,o.Lk)("h3",null,"Password",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.value=e),type:"password",placeholder:"Enter the password you would like to use."},null,512),[[l.Jo,i.value]]),(0,o.Lk)("button",{class:"bubbleButton",disabled:r.value,onClick:d},"Sign Up",8,nt),(0,o.bF)(et,{errorMsg:c.value},null,8,["errorMsg"])])],64))}};const ot=(0,I.A)(lt,[["__scopeId","data-v-d7a2d6b6"]]);var at=ot;const st={class:"margins"},ut=["disabled"],it={key:0};var rt={__name:"SignInView",setup(e){const t=(0,s.rd)(),n=(0,a.KR)(""),u=(0,a.KR)(""),i=(0,a.KR)(null),r=(0,a.KR)(!0),c=(0,a.KR)(!1);async function d(){console.log("kia ora");try{r.value=!0,i.value=null,c.value=!1;const{data:e,error:l}=await q.auth.signInWithPassword({email:n.value,password:u.value});if(l)throw l;console.log(e),c.value=!0,t.push({name:"Library"})}catch(e){i.value=e.message||"Failed to sign in. Please check your credentials."}finally{r.value=!1}}async function f(){const e=await q.auth.getUser();console.log(e),e.data.user?t.push({name:"Library"}):r.value=!1}return f(),(e,t)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(Le),r.value?((0,o.uX)(),(0,o.Wv)(ae,{key:0})):(0,o.Q3)("",!0),(0,o.Lk)("div",st,[t[3]||(t[3]=(0,o.Lk)("h2",null,"Sign In",-1)),t[4]||(t[4]=(0,o.Lk)("h3",null,"Email",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),type:"email",placeholder:"example@example.com"},null,512),[[l.Jo,n.value]]),t[5]||(t[5]=(0,o.Lk)("h3",null,"Password",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e),type:"password",placeholder:"password..."},null,512),[[l.Jo,u.value]]),(0,o.Lk)("button",{class:"bubbleButton",disabled:r.value,onClick:t[2]||(t[2]=e=>d())},"Sign In",8,ut),(0,o.bF)(et,{errorMsg:i.value},null,8,["errorMsg"]),c.value?((0,o.uX)(),(0,o.CE)("div",it,"You are now signed in.")):(0,o.Q3)("",!0)])],64))}};const ct=(0,I.A)(rt,[["__scopeId","data-v-70674f22"]]);var dt=ct;const ft={class:"margins"},pt={key:0},vt={key:1},kt={key:2};var ht={__name:"EmailConfirmView",setup(e){const t=(0,s.lq)(),n=(0,a.KR)(!0),l=(0,a.KR)(!1),u=(0,a.KR)(null);return(0,o.sV)((async()=>{try{const{access_token:e,type:n}=t.query;if("signup"!==n||!e)throw new Error("Invalid confirmation link.");{const{error:n}=await q.auth.setSession({access_token:e,refresh_token:t.query.refresh_token});if(n)throw n;const{data:{user:o}}=await q.auth.getUser();if(!o?.confiermed_at)throw new Error("Email not confirmed yet.");l.value=!0}}catch(u){u.value=u.message||"Failed to confirm email. Please try again."}finally{n.value=!1}})),(e,t)=>((0,o.uX)(),(0,o.CE)("div",ft,[t[0]||(t[0]=(0,o.Lk)("h2",null,"Email Confirmation",-1)),n.value?((0,o.uX)(),(0,o.CE)("p",pt,"Processing your confirmation...")):(0,o.Q3)("",!0),l.value?((0,o.uX)(),(0,o.CE)("p",vt,"Your email has been confirmed!")):(0,o.Q3)("",!0),u.value?((0,o.uX)(),(0,o.CE)("p",kt,(0,c.v_)(u.value),1)):(0,o.Q3)("",!0)]))}};const mt=ht;var bt=mt;const gt={class:"box"},yt={key:0,class:"fa-solid fa-globe"},Lt={key:1,class:"fa-solid fa-lock"};var Ct={__name:"SetBox",props:["set"],emits:["delete"],setup(e,{emit:t}){const n=e,l=t;function u(){l("delete",{id:n.set.id,title:n.set.title})}return(t,n)=>((0,o.uX)(),(0,o.CE)("div",gt,[(0,o.bF)((0,a.R1)(s.Wk),{to:{name:"Edit",params:{set_id:e.set.id}}},{default:(0,o.k6)((()=>[(0,o.Lk)("h3",null,(0,c.v_)(e.set.title),1)])),_:1},8,["to"]),e.set.public?((0,o.uX)(),(0,o.CE)("i",yt)):((0,o.uX)(),(0,o.CE)("i",Lt)),(0,o.Lk)("button",{onClick:u,class:"iconButton"},n[0]||(n[0]=[(0,o.Lk)("i",{class:"fa-solid fa-trash"},null,-1)]))]))}};const _t=(0,I.A)(Ct,[["__scopeId","data-v-5bf23242"]]);var wt=_t;const Et={key:0,class:"popup"};var St={__name:"DeleteDialog",props:["title"],emits:["delete","cancel"],setup(e,{emit:t}){const n=t;return(t,l)=>e.title?((0,o.uX)(),(0,o.CE)("div",Et,[(0,o.Lk)("p",null,'Are you sure you would like to delete "'+(0,c.v_)(e.title)+'"? This action is irriversible.',1),(0,o.Lk)("p",null,[(0,o.Lk)("button",{onClick:l[0]||(l[0]=e=>n("delete")),class:"bubbleButton fr"},"Yes"),(0,o.Lk)("button",{onClick:l[1]||(l[1]=e=>n("cancel")),class:"bubbleButton"},"No")])])):(0,o.Q3)("",!0)}};const It=(0,I.A)(St,[["__scopeId","data-v-b343c840"]]);var Ft=It;const Xt={class:"margins"},Rt={class:"flex"};var Kt={__name:"LibraryView",setup(e){const t=(0,s.rd)(),n=(0,a.KR)(null),l=(0,a.KR)(null);async function u(){try{const e=await q.auth.getUser();n.value=e,console.log(n.value.data.user.id)}catch(e){console.log(e),t.push({name:"Sign In"})}}async function i(){try{const{data:e,error:t}=await q.from("sets").select().eq("creator_id",n.value.data.user.id);if(console.log(e),console.log(t),t)return void console.log(t);l.value=e}catch(e){console.log(e),t.push({name:"Sign In"})}}const r=(0,a.KR)(null);let c=null;function d(e){const{id:t,title:n}=e;console.log(t),console.log(n),r.value=n,c=t}async function f(e){const{data:t,error:n}=await q.from("sets").delete().eq("id",e);if(n)return console.log(n),void alert(n);console.log(t),p(e),alert("Set deleted")}function p(e){for(let t=0;t<l.value.length;t++)if(l.value[t].id==e)return void l.value.splice(t,1)}function v(){r.value=null,c=null}async function k(){await f(c),v()}return(0,o.sV)((async()=>{await u(),n.value?i():t.push({name:"Sign In"})})),(e,t)=>{const n=(0,o.g2)("RouterLink");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(Le),(0,o.bF)(Ft,{title:r.value,onDelete:k,onCancel:v},null,8,["title"]),(0,o.Lk)("div",Xt,[t[1]||(t[1]=(0,o.Lk)("h1",null,"Library",-1)),(0,o.Lk)("div",Rt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.value,(e=>((0,o.uX)(),(0,o.Wv)(wt,{onDelete:d,key:e.id,set:e},null,8,["set"])))),128))]),(0,o.bF)(n,{to:"/edit/null",class:"bubbleButton"},{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.eW)("New Set")]))),_:1})])],64)}}};const Ot=(0,I.A)(Kt,[["__scopeId","data-v-08542574"]]);var Bt=Ot;const xt={class:"cont"};function At(e,t){return(0,o.uX)(),(0,o.CE)("div",xt,t[0]||(t[0]=[(0,o.Lk)("i",{class:"fa-solid fa-envelope"},null,-1),(0,o.Lk)("h1",null,"Please check your email to finalise your account.",-1),(0,o.Lk)("h3",null,"Follow the link, then login using your email and password.",-1)]))}const Ut={},Wt=(0,I.A)(Ut,[["render",At],["__scopeId","data-v-12c77b19"]]);var Dt=Wt;const Mt=[{path:"/",name:"Landing",component:ze},{path:"/edit/:set_id",name:"Edit",component:Je,props:!0},{path:"/signup",name:"Sign Up",component:at},{path:"/signin",name:"Sign In",component:dt},{path:"/emailconfirmed",name:"Email Confirmed",component:bt},{path:"/library",name:"Library",component:Bt},{path:"/emailconf",name:"Email Confirmation",component:Dt}],Jt=(0,s.aE)({history:(0,s.Bt)(),routes:Mt});var Tt=Jt;const Pt=(0,l.Ef)(r);Pt.use(Tt),Pt.mount("#app")}},t={};function n(l){var o=t[l];if(void 0!==o)return o.exports;var a=t[l]={exports:{}};return e[l].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,l,o,a){if(!l){var s=1/0;for(c=0;c<e.length;c++){l=e[c][0],o=e[c][1],a=e[c][2];for(var u=!0,i=0;i<l.length;i++)(!1&a||s>=a)&&Object.keys(n.O).every((function(e){return n.O[e](l[i])}))?l.splice(i--,1):(u=!1,a<s&&(s=a));if(u){e.splice(c--,1);var r=o();void 0!==r&&(t=r)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[l,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(l,o){if(1&o&&(l=this(l)),8&o)return l;if("object"===typeof l&&l){if(4&o&&l.__esModule)return l;if(16&o&&"function"===typeof l.then)return l}var a=Object.create(null);n.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var u=2&o&&l;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){s[e]=function(){return l[e]}}));return s["default"]=function(){return l},n.d(a,s),a}}(),function(){n.d=function(e,t){for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,l){return n.f[l](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+".cabb12ab.js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="flash-flip:";n.l=function(l,o,a,s){if(e[l])e[l].push(o);else{var u,i;if(void 0!==a)for(var r=document.getElementsByTagName("script"),c=0;c<r.length;c++){var d=r[c];if(d.getAttribute("src")==l||d.getAttribute("data-webpack")==t+a){u=d;break}}u||(i=!0,u=document.createElement("script"),u.charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=l),e[l]=[o];var f=function(t,n){u.onerror=u.onload=null,clearTimeout(p);var o=e[l];if(delete e[l],u.parentNode&&u.parentNode.removeChild(u),o&&o.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=f.bind(null,u.onerror),u.onload=f.bind(null,u.onload),i&&document.head.appendChild(u)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/flash-flip/dist/"}(),function(){var e={524:0};n.f.j=function(t,l){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)l.push(o[2]);else{var a=new Promise((function(n,l){o=e[t]=[n,l]}));l.push(o[2]=a);var s=n.p+n.u(t),u=new Error,i=function(l){if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var a=l&&("load"===l.type?"missing":l.type),s=l&&l.target&&l.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",u.name="ChunkLoadError",u.type=a,u.request=s,o[1](u)}};n.l(s,i,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,l){var o,a,s=l[0],u=l[1],i=l[2],r=0;if(s.some((function(t){return 0!==e[t]}))){for(o in u)n.o(u,o)&&(n.m[o]=u[o]);if(i)var c=i(n)}for(t&&t(l);r<s.length;r++)a=s[r],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},l=self["webpackChunkflash_flip"]=self["webpackChunkflash_flip"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=n.O(void 0,[504],(function(){return n(7856)}));l=n.O(l)})();
//# sourceMappingURL=app.08dd0a32.js.map